(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,n){e.exports=n(163)},162:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),l=n.n(c),E=n(100),i=n(101),o=n(120),u=n(118),s=n(7),O=n(221),_=n(117),T=n(58),S=n(36),m=n(119),p=n(28),d=n(99),A=n(81),f=n(102),R=n(17),L=n.n(R),C=n(11),I={USER_LOGIN_REQUESTED_ACTION:"USER_LOGIN_REQUESTED_ACTION",USER_LOGIN_RESOLVED_ACTION:"USER_LOGIN_RESOLVED_ACTION",USER_LOGIN_REJECTED_ACTION:"USER_LOGIN_REJECTED_ACTION",USER_SUBSCRIBE_REQUESTED_ACTION:"USER_SUBSCRIBE_REQUESTED_ACTION",USER_SUBSCRIBE_RESOLVED_ACTION:"USER_SUBSCRIBE_RESOLVED_ACTION",USER_SUBSCRIBE_REJECTED_ACTION:"USER_SUBSCRIBE_REJESTED_ACTION",TOKEN_REFRESH_REQUESTED_ACTION:"TOKEN_REFRESH_REQUESTED_ACTION",TOKEN_REFRESH_RESOLVED_ACTION:"TOKEN_REFRESH_RESOLVED_ACTION",TOKEN_REFRESH_REJECTED_ACTION:"TOKEN_REFRESH_REJECTED_ACTION",USER_LOGOUT_REQUEST_ACTION:"USER_LOGOUT_REQUEST_ACTION"},N=function(e,t){return{type:I.USER_LOGIN_RESOLVED_ACTION,jwtToken:e,username:t}},g=function(){return{type:I.USER_LOGIN_REJECTED_ACTION}},D=function(){return{type:I.USER_SUBSCRIBE_RESOLVED_ACTION}},b=function(){return{type:I.USER_SUBSCRIBE_REJECTED_ACTION}},j=n(29),y=n.n(j),v="http://ec2-18-119-101-27.us-east-2.compute.amazonaws.com",h=function(e,t){return y.a.post("".concat(v,"/api/users/login"),{username:e,password:t})},U=function(e,t){return y.a.post("".concat(v,"/api/users/subscribe"),{username:e,email:e,password:t})},x=L.a.mark(P),w=L.a.mark(V),G=L.a.mark(k);function P(e){var t;return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h(e.email,e.password);case 3:return t=n.sent,n.next=6,Object(C.b)(N(t.data.token,t.data.username));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(C.b)(g());case 12:case"end":return n.stop()}},x,null,[[0,8]])}function V(e){return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(e.email,e.password);case 3:return t.sent,t.next=6,Object(C.b)(D());case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(C.b)(b());case 12:case"end":return t.stop()}},w,null,[[0,8]])}function k(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(I.USER_LOGIN_REQUESTED_ACTION,P);case 2:return e.next=4,Object(C.d)(I.USER_SUBSCRIBE_REQUESTED_ACTION,V);case 4:case"end":return e.stop()}},G)}var Q={PLAYLISTS_GET_REQUESTED_ACTION:"PLAYLISTS_GET_REQUESTED_ACTION",PLAYLISTS_GET_RESOLVED_ACTION:"PLAYLISTS_GET_RESOLVED_ACTION",PLAYLISTS_GET_REJECTED_ACTION:"PLAYLISTS_GET_REJECTED_ACTION",ONE_PLAYLIST_GET_REQUESTED_ACTION:"ONE_PLAYLIST_GET_REQUESTED_ACTION",ONE_PLAYLIST_GET_RESOLVED_ACTION:"ONE_PLAYLIST_GET_RESOLVED_ACTION",ONE_PLAYLIST_GET_REJECTED_ACTION:"ONE_PLAYLIST_GET_REJECTED_ACTION",SELECT_SONG_REQUESTED_ACTION:"SELECT_SONG_REQUESTED_ACTION",SELECT_SONG_RESOLVED_ACTION:"SELECT_SONG_RESOLVED_ACTION",SELECT_SONG_REJECTED_ACTION:"SELECT_SONG_REJECTED_ACTION",ALL_SONGS_REQUESTED:"ALL_SONGS_REQUESTED",ALL_SONGS_RESOLVED:"ALL_SONGS_RESOLVED",ALL_SONGS_REJECTED:"ALL_SONGS_REJECTED",ADD_PLAYLIST_REUQESTED:"ADD_PLAYLIST_REQUESTED",ADD_PLAYLIST_RESOLVED:"ADD_PLAYLIST_RESOLVED",ADD_PAYLIST_REJECTED:"ADD_PLAYLIST_REJECTED",EDIT_PLAYLIST_NAME_REQUESTED:"EDIT_PLAYLIST_NAME_REQUESTED",EDIT_PLAYLIST_NAME_RESOLVED:"EDIT_PLAYLIST_NAME_RESOLVED",EDIT_PLAYLIST_NAME_REJECTED:"EDIT_PLAYLIST_NAME_REJECTED",REMOVE_PLAYLIST_REQUESTED:"REMOVE_PLAYLIST_REQUESTED",REMOVE_PLAYLIST_RESOLVED:"REMOVE_PLAYLIST_RESOLVED",REMOVE_PLAYLIST_REJECTED:"REMOVE_PLAYLIST_REJECTED",LOAD_SONGS_REQUESTED_ACTION:"LOAD_SONGS_REQUESTED_ACTION",LOAD_SONGS_RESOLVED_ACTION:"LOAD_SONGS_RESOLVED_ACTION",LOAD_SONGS_REJECTED_ACTION:"LOAD_SONGS_REJECTED_ACTION",CLEAR_ALERT_ERROR:"CLEAR_ALERT_ERROR",CLEAR_STATE_ACTION:"CLEAR_STATE_ACTION"},Y=function(e){return{type:Q.PLAYLISTS_GET_REJECTED_ACTION,error:e}},J=function(e){return{type:Q.PLAYLISTS_GET_RESOLVED_ACTION,playlists:e}},B=function(e){return{type:Q.ADD_PLAYLIST_RESOLVED,playlist:e}},M=function(e){return{type:Q.ADD_PAYLIST_REJECTED,error:e}},F=function(e){return{type:Q.EDIT_PLAYLIST_NAME_REJECTED,error:e}},W=function(e){return{type:Q.EDIT_PLAYLIST_NAME_RESOLVED,playlist:e}},z=function(e){return{type:Q.REMOVE_PLAYLIST_RESOLVED,id:e}},H=function(e){return{type:Q.REMOVE_PLAYLIST_REJECTED,error:e}},X=function(e){return{type:Q.SELECT_SONG_RESOLVED_ACTION,song:e}},K=function(e){return{type:Q.SELECT_SONG_REJECTED_ACTION,error:e}},q=function(e,t){return{type:Q.SELECT_SONG_REQUESTED_ACTION,id:e,title:t}},Z=function(e){return y.a.get("".concat(v,"/api/playlists"),{headers:{Authorization:"Bearer ".concat(e)}})},$=function(e,t){return y.a.post("".concat(v,"/api/playlists"),{title:e},{headers:{Authorization:"Bearer ".concat(t)}})},ee=function(e,t,n){return y.a.put("".concat(v,"/api/playlists"),{id:t,newTitle:e},{headers:{Authorization:"Bearer ".concat(n)}})},te=function(e,t){return y.a.delete("".concat(v,"/api/playlists/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}})},ne=function(e){return e.user.isLoading},ae=function(e){return e.user.isLoggedIn},re=function(e){return e.user.jwtToken},ce=L.a.mark(ue),le=L.a.mark(se),Ee=L.a.mark(Oe),ie=L.a.mark(_e),oe=L.a.mark(Te);function ue(e){var t,n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.c)(re);case 2:return t=e.sent,e.prev=3,e.next=6,Z(t);case 6:return n=e.sent,e.next=9,Object(C.b)(J(n.data));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),e.next=15,Object(C.b)(Y("error_message"));case 15:case"end":return e.stop()}},ce,null,[[3,11]])}function se(e){var t,n;return L.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(C.c)(re);case 2:return t=a.sent,a.prev=3,a.next=6,$(e.title,t);case 6:return n=a.sent,a.next=9,Object(C.b)(B(n.data));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(3),a.next=15,Object(C.b)(M("error while adding new playlist"));case 15:case"end":return a.stop()}},le,null,[[3,11]])}function Oe(e){var t,n;return L.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(C.c)(re);case 2:return t=a.sent,a.prev=3,a.next=6,ee(e.newTitle,e.id,t);case 6:return n=a.sent,a.next=9,Object(C.b)(W(n.data));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(3),a.next=15,Object(C.b)(F("error while editing the title"));case 15:case"end":return a.stop()}},Ee,null,[[3,11]])}function _e(e){var t,n;return L.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(C.c)(re);case 2:return t=a.sent,a.prev=3,a.next=6,te(e.id,t);case 6:return n=a.sent,a.next=9,Object(C.b)(z(n.data.playlistId));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(3),a.next=15,Object(C.b)(H("error while removing the playlist"));case 15:case"end":return a.stop()}},ie,null,[[3,11]])}function Te(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(Q.PLAYLISTS_GET_REQUESTED_ACTION,ue);case 2:return e.next=4,Object(C.d)(Q.ADD_PLAYLIST_REUQESTED,se);case 4:return e.next=6,Object(C.d)(Q.EDIT_PLAYLIST_NAME_REQUESTED,Oe);case 6:return e.next=8,Object(C.d)(Q.REMOVE_PLAYLIST_REQUESTED,_e);case 8:case"end":return e.stop()}},oe)}var Se="PLAY",me="PAUSE",pe="DURATION",de="END",Ae="CLEAR_PLAYER",fe=function(){return{type:me}},Re={SONG_ADD_REQUESTED_ACTION:"SONG_ADD_REQUESTED_ACTION",SONG_ADD_RESOLVED_ACTION:"SONG_ADD_RESOLVED_ACTION",SONG_ADD_REJECTED_ACTION:"SONG_ADD_REJECTED_ACTION",SONG_REMOVE_REQUESTED_ACTION:"SONG_REMOVE_REQUESTED_ACTION",SONG_REMOVE_RESOLVED_ACTION:"SONG_REMOVE_RESOLVED_ACTION",SONG_REMOVE_REJECTED_ACTON:"SONG_REMOVE_REJECTED_ACTIONS",SONG_EDIT_REQUESTED_ACTION:"SONG_EDIT_REQUESTED_ACTION",SONG_EDIT_RESOLVED_ACTON:"SONG_EDIT_RESOLVED_ACTIONS",SONG_EDIT_REJECTED_ACTON:"SONG_EDIT_REJECTED_ACTIONS",SELECT_NEXT_REQUESTED_ACTION:"SELECT_NEXT_REQUESTED_ACTION",SELECT_NEXT_RESOLVED_ACTION:"SELECT_NEXT_RESOLVED_ACTION",SELECT_NEXT_REJECTED_ACTION:"SELECT_NEXT_REJECTED_ACTION",SELECT_PREVIOUS_REQUESTED_ACTION:"SELECT_PREVIOUS_REQUESTED_ACTION",SELECT_PREVIOUS_RESOLVED_ACTION:"SELECT_PREVIOUS_RESOLVED_ACTION",SELECT_PREVIOUS_REJECTED_ACTION:"SELECT_PREVIOUS_REJECTED_ACTION"},Le=function(e){return{type:Re.SONG_ADD_RESOLVED_ACTION,newSong:e}},Ce=function(e){return{type:Re.SONG_REMOVE_RESOLVED_ACTION,songId:e}},Ie=function(e,t){return y.a.get("".concat(v,"/api/Song/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}})},Ne=function(e,t,n){return y.a.delete("".concat(v,"/api/Song"),{data:{playlistId:t,songId:e},headers:{Authorization:"Bearer ".concat(n)}})},ge=function(e,t,n,a){var r=new FormData;return r.append("SongBytes",n),r.append("PlaylistId",t),r.append("SongTitle",e),y.a.post("".concat(v,"/api/Song"),r,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}})},De=L.a.mark(ve),be=L.a.mark(he),je=L.a.mark(Ue),ye=L.a.mark(we);function ve(e){var t,n,a,r,c,l,E;return L.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(C.c)(re);case 2:return t=i.sent,i.prev=3,i.next=6,Ie(e.id,t);case 6:return n=i.sent,a=n.data.fileContents,r=xe(a),c=new Blob([r],{type:"audio/mp3"}),l=window.URL.createObjectURL(c),E={songTitle:e.title,link:l,id:e.id},i.next=14,Object(C.b)(X(E));case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(3),i.next=20,Object(C.b)(K("error while selecting song"));case 20:case"end":return i.stop()}},De,null,[[3,16]])}function he(e){var t,n,a;return L.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(C.c)(re);case 2:return t=r.sent,r.prev=3,r.next=6,ge(e.title,e.playlistId,e.bytes,t);case 6:return n=r.sent,a=n.data,r.next=10,Object(C.b)(Le(a));case 10:r.next=14;break;case 12:r.prev=12,r.t0=r.catch(3);case 14:case"end":return r.stop()}},be,null,[[3,12]])}function Ue(e){var t;return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(C.c)(re);case 2:return t=n.sent,n.prev=3,n.next=6,Ne(e.songId,e.playlistId,t);case 6:return n.sent,n.next=9,Object(C.b)(Ce(e.songId));case 9:n.next=13;break;case 11:n.prev=11,n.t0=n.catch(3);case 13:case"end":return n.stop()}},je,null,[[3,11]])}function xe(e){for(var t=window.atob(e),n=t.length,a=new Uint8Array(n),r=0;r<n;r++){var c=t.charCodeAt(r);a[r]=c}return a}function we(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(Q.SELECT_SONG_REQUESTED_ACTION,ve);case 2:return e.next=4,Object(C.d)(Re.SONG_ADD_REQUESTED_ACTION,he);case 4:return e.next=6,Object(C.d)(Re.SONG_REMOVE_REQUESTED_ACTION,Ue);case 6:return e.next=8,Object(C.d)(Re.SELECT_NEXT_REQUESTED_ACTION,ve);case 8:case"end":return e.stop()}},ye)}var Ge=L.a.mark(Pe);function Pe(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([k(),Te(),we()]);case 2:case"end":return e.stop()}},Ge)}var Ve,ke=n(103),Qe=n.n(ke),Ye=n(10),Je={song:"",playing:!1,duration:0,ended:!0},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(Ye.a)(Object(Ye.a)({},e),{},{playing:!e.playing,ended:!1});case me:return Object(Ye.a)(Object(Ye.a)({},e),{},{playing:!e.playing});case pe:return Object(Ye.a)(Object(Ye.a)({},e),{},{duration:t.duration});case de:return Object(Ye.a)(Object(Ye.a)({},e),{},{ended:!0});case Ae:return Je;default:return e}},Me=n(82),Fe={songs:[],playlists:[],playlistsLoading:!1,playlistError:null,selectedSong:null,nextSongId:null,previousSongId:null,selectedPlaylist:null,songIsLoading:!1,playlistAlertContent:null},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q.SELECT_SONG_REQUESTED_ACTION:return Object(Ye.a)(Object(Ye.a)({},e),{},{songIsLoading:!0,selectedSong:null});case Q.SELECT_SONG_RESOLVED_ACTION:var n=e.songs.map(function(e){return e.songId}).indexOf(t.song.id),a=n===e.songs.length-1?null:1===e.songs.length?null:n+1,r=0===n?null:1===e.songs.length?null:n-1,c=null===a?null:e.songs.find(function(e,t){return t===a}),l=null===r?null:e.songs.find(function(e,t){return t===r});return Object(Ye.a)(Object(Ye.a)({},e),{},{songIsLoading:!1,selectedSong:t.song,nextSong:c,previousSong:l});case Q.PLAYLISTS_GET_REQUESTED_ACTION:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlistsLoading:!0});case Q.PLAYLISTS_GET_RESOLVED_ACTION:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlists:t.playlists,playlistsLoading:!1,playlistError:null});case Q.PLAYLISTS_GET_REJECTED_ACTION:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlistsLoading:!1,playlistError:t.error,playlists:[]});case Q.ADD_PLAYLIST_REUQESTED:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlistAlertContent:null});case Q.ADD_PLAYLIST_RESOLVED:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlists:[].concat(Object(Me.a)(e.playlists),[t.playlist]),playlistAlertContent:null});case Q.ADD_PAYLIST_REJECTED:case Q.REMOVE_PLAYLIST_REJECTED:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlistAlertContent:t.error});case Q.CLEAR_ALERT_ERROR:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlistAlertContent:null});case Q.EDIT_PLAYLIST_NAME_RESOLVED:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlists:e.playlists.map(function(e){return e.title=e.id===t.playlist.songId?t.playlist.newTitle:e.title,e})});case Q.EDIT_PLAYLIST_NAME_REJECTED:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlistAlertContent:t.error});case Q.REMOVE_PLAYLIST_RESOLVED:return Object(Ye.a)(Object(Ye.a)({},e),{},{playlists:e.playlists.filter(function(e){return e.id!==t.id})});case Q.LOAD_SONGS_REQUESTED_ACTION:var E=e.playlists.find(function(e){return e.id===t.id});return Object(Ye.a)(Object(Ye.a)({},e),{},{songs:E.songs,selectedPlaylist:t.id,selectedSong:null,nextSong:null,previousSong:null});case Re.SONG_REMOVE_RESOLVED_ACTION:return Object(Ye.a)(Object(Ye.a)({},e),{},{songs:e.songs.filter(function(e){return e.songId!==t.songId}),selectedSong:null});case Re.SONG_ADD_RESOLVED_ACTION:var i={songId:t.newSong.songId,songTitle:t.newSong.songTitle};return Object(Ye.a)(Object(Ye.a)({},e),{},{songs:[].concat(Object(Me.a)(e.songs),[i])});case Q.CLEAR_STATE_ACTION:return Fe;default:return e}},ze={isLoggedIn:!1,isLoading:!1,jwtToken:"foo",username:""},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.USER_LOGIN_REQUESTED_ACTION:return Object(Ye.a)(Object(Ye.a)({},e),{},{isLoading:!0});case I.USER_LOGIN_RESOLVED_ACTION:return Object(Ye.a)(Object(Ye.a)({},e),{},{isLoading:!1,jwtToken:t.jwtToken,username:t.username,isLoggedIn:!0});case I.USER_LOGIN_REJECTED_ACTION:case I.USER_LOGOUT_REQUEST_ACTION:return{initialState:ze};default:return e}},Xe=Object(S.a)(),Ke=Object(m.a)(),qe=Object(f.composeWithDevTools)({}),Ze={key:"rootPlaylists",storage:Qe.a},$e=[Ke,Object(d.a)(Xe)],et=Object(A.a)(Ze,(Ve=Xe,Object(p.combineReducers)({router:Object(T.b)(Ve),player:Be,playlist:We,user:He}))),tt=n(69),nt=n(202),at=n(203),rt=n(57),ct=n(201),lt=n(197),Et=n(109),it=n.n(Et),ot=function(){var e=Object(s.d)();return r.a.createElement(lt.a,{variant:"contained",onClick:function(){e({type:Ae}),e({type:Q.CLEAR_STATE_ACTION}),e({type:I.USER_LOGOUT_REQUEST_ACTION})}},r.a.createElement(it.a,null))},ut=Object(ct.a)(function(e){return{grow:{flexGrow:1},appBar:{padding:e.spacing(2)},title:{flexGrow:1}}}),st=function(){var e=ut(),t=Object(s.e)(ae);return r.a.createElement("div",{className:e.grow},r.a.createElement(nt.a,{position:"static"},r.a.createElement(at.a,null,r.a.createElement(rt.a,{variant:"h6",className:e.title},"Playlists"),t&&r.a.createElement(ot,null))))},Ot=n(206),_t=n(164),Tt=n(204),St=n(21),mt=function(e){return e.player.playing},pt=(Object(ct.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}),n(227)),dt=function(e){return e.playlist.songs},At=function(e){return e.playlist.selectedSong},ft=function(e){return e.playlist.selectedPlaylist},Rt=function(e){return e.playlist.playlists},Lt=function(e){return e.playlist.playlistsLoading},Ct=function(e){return e.playlist.playlistError},It=function(e){return e.playlist.playlistAlertContent},Nt=function(e){return e.playlist.songIsLoading},gt=function(e){return e.playlist.nextSong},Dt=function(e){return e.playlist.previousSong},bt=Object(ct.a)(function(e){return{root:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},chipsSpacing:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}),jt=function(){var e=bt(),t=Object(s.e)(At),n=Object(s.e)(ft),a=Object(s.d)(),c=function(){var e,r;a((e=t.id,r=n,{type:Re.SONG_REMOVE_REQUESTED_ACTION,songId:e,playlistId:r}))};return r.a.createElement(r.a.Fragment,null,!t&&"You need to select a song first",t&&r.a.createElement("div",{className:e.root},r.a.createElement(pt.a,{label:"Title : "+t.songTitle,className:e.chipsSpacing}),r.a.createElement(pt.a,{label:"Delete",onDelete:c,className:e.chipsSpacing})))},yt=n(205),vt=n(110),ht=n.n(vt),Ut=function(){var e=Object(s.d)(),t=Object(s.e)(At);return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{fullWidth:!0,disabled:null===t,variant:"contained",color:"secondary",disableElevation:!0,onClick:function(){e({type:Se})}},r.a.createElement(ht.a,null)))},xt=n(111),wt=n.n(xt),Gt=function(){var e=Object(s.d)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{fullWidth:!0,variant:"contained",color:"secondary",disableElevation:!0,onClick:function(){e(fe())}},r.a.createElement(wt.a,null)))},Pt=n(112),Vt=n.n(Pt),kt=function(){var e=Object(s.d)(),t=Object(s.e)(Dt);return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{fullWidth:!0,disabled:null===t,onClick:function(){e(q(t.songId,t.songTitle))},variant:"contained",color:"secondary",disableElevation:!0},r.a.createElement(Vt.a,null)))},Qt=n(113),Yt=n.n(Qt),Jt=function(){var e=Object(s.d)(),t=Object(s.e)(gt);return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{fullWidth:!0,disabled:null===t,onClick:function(){e(q(t.songId,t.songTitle))},variant:"contained",color:"secondary",disableElevation:!0},r.a.createElement(Yt.a,null)))},Bt=function(e){var t=e.songIsPlaying;return r.a.createElement(Ot.a,{container:!0,direction:"row"},r.a.createElement(Ot.a,{item:!0,xs:4},r.a.createElement(kt,null)),r.a.createElement(Ot.a,{item:!0,xs:4},t?r.a.createElement(Gt,null):r.a.createElement(Ut,null)),r.a.createElement(Ot.a,{item:!0,xs:4},r.a.createElement(Jt,null)))},Mt=function(){var e=Object(s.d)(),t=Object(s.e)(At),n=Object(s.e)(Nt),c=new Audio(null===t?"":t.link),l=Object(s.e)(mt);return Object(a.useEffect)(function(){return l?c.play():c.pause(),function(){c.pause()}},[l,c,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot.a,{container:!0},r.a.createElement(Ot.a,{item:!0,xs:12},n&&r.a.createElement(Tt.a,null),!n&&r.a.createElement(jt,null)),r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(Bt,{songIsPlaying:l}))))},Ft=n(225),Wt=n(207),zt=n(208),Ht=n(222),Xt=n(214),Kt=function(e){var t=e.open,n=e.dialogTitle,c=(e.fnAccept,e.fnReject),l=void 0===c?function(){}:c,E=Object(s.d)(),i=Object(s.e)(ft),o=Object(a.useState)(""),u=Object(St.a)(o,2),O=u[0],_=u[1],T=Object(a.useState)(),S=Object(St.a)(T,2),m=S[0],p=S[1],d=function(e){E(function(e,t,n){return{type:Re.SONG_ADD_REQUESTED_ACTION,title:e,playlistId:t,bytes:n}}(e,i,m)),l()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft.a,{open:t,fullWidth:!0},r.a.createElement(Wt.a,null,n),r.a.createElement(zt.a,null,r.a.createElement(Ht.a,{autoFocus:!0,fullWidth:!0,value:O,onChange:function(e){return _(e.target.value)}}),r.a.createElement(yt.a,{varint:"contained"},r.a.createElement("input",{type:"file",id:"songFile",multiple:!0,onChange:function(e){return function(e){var t=e.target.files[0];_(t.name);var n=new FileReader;n.onloadend=function(e){e.target.readyState===FileReader.DONE&&p(t)},n.readAsBinaryString(t)}(e)}})),r.a.createElement(Xt.a,null,r.a.createElement(yt.a,{onClick:l},"CANCEL"),r.a.createElement(yt.a,{onClick:function(){return d(O)}},"SUBMIT")))))},qt=Object(ct.a)(function(e){return{root:{}}}),Zt=function(){var e=qt(),t=Object(a.useState)(!1),n=Object(St.a)(t,2),c=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{className:e.root,fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){l(!c)}},"Add new song"),r.a.createElement(Kt,{open:c,dialogTitle:"Add new song",fnAccept:function(){l(!1)},fnReject:function(){l(!1)}}))},$t=n(212),en=n(215),tn=n(216),nn=Object(ct.a)(function(e){return{root:{overflowY:"scroll"},backgroundLight:{backgroundColor:"#CDE7BE"},backgroundDark:{backgroundColor:"#bae8a0"}}}),an=function(){var e=nn(),t=Object(s.d)(),n=Object(s.e)(dt);return n?0===n.length?r.a.createElement(r.a.Fragment,null,"The list is empty, add some tracks"):r.a.createElement(r.a.Fragment,null,r.a.createElement($t.a,{className:e.root},n.map(function(n,a){return r.a.createElement(en.a,{key:n.songId,onClick:function(){return e=n.songId,a=n.songTitle,void t(q(e,a));var e,a},button:!0,className:a%2===0?e.backgroundDark:e.backgroundLight},r.a.createElement(tn.a,{primary:"".concat(n.songTitle)}))}))):r.a.createElement(r.a.Fragment,null,"Select a playlist to load songs")},rn=function(){return r.a.createElement(Ot.a,{container:!0},r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(an,null)),r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(Zt,null)))},cn=Object(ct.a)(function(e){return{paper:{padding:e.spacing(2)}}}),ln=function(){var e=cn();return r.a.createElement("div",null,r.a.createElement(_t.a,{className:e.paper},r.a.createElement(rt.a,{variant:"h5"},"Current Playlist"),r.a.createElement(Ot.a,{container:!0},r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(rn,null)),r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(Mt,null)))))},En=n(217),on=function(e){var t=e.dialogTitle,n=void 0===t?"Title":t,c=e.context,l=void 0===c?"Please fill the title":c,E=e.open,i=e.onReject,o=void 0===i?function(){}:i,u=e.onAccept,s=void 0===u?function(e){}:u,O=e.defaultTitle,_=void 0===O?"":O,T=Object(a.useState)(_),S=Object(St.a)(T,2),m=S[0],p=S[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft.a,{open:E,fullWidth:!0},r.a.createElement(Wt.a,null,n),r.a.createElement(zt.a,null,r.a.createElement(En.a,null,l),r.a.createElement(Ht.a,{autoFocus:!0,fullWidth:!0,value:m,onChange:function(e){return p(e.target.value)}}),r.a.createElement(Xt.a,null,r.a.createElement(yt.a,{onClick:o},"CANCEL"),r.a.createElement(yt.a,{onClick:function(){return s(m)}},"SUBMIT")))))},un=function(){var e=Object(s.d)(),t=Object(a.useState)(!1),n=Object(St.a)(t,2),c=n[0],l=n[1],E=function(){l(!c)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(on,{open:c,onReject:E,onAccept:function(t){E(),e(function(e){return{type:Q.ADD_PLAYLIST_REUQESTED,title:e}}(t))},context:"Please fill the playlist's title below",dialogTitle:"Add new playlist"}),r.a.createElement(yt.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:E},"Add new playlist"))},sn=n(218),On=n(219),_n=n(114),Tn=n.n(_n),Sn=function(e){var t=e.title,n=e.id,c=Object(s.d)(),l=Object(a.useState)(!1),E=Object(St.a)(l,2),i=E[0],o=E[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(on,{dialogTitle:"Edit playlist title",open:i,onReject:function(){o(!1)},defaultTitle:t,onAccept:function(e){c(function(e,t){return{type:Q.EDIT_PLAYLIST_NAME_REQUESTED,newTitle:e,id:t}}(e,n)),o(!1)}}),r.a.createElement(lt.a,{onClick:function(){o(!0)}},r.a.createElement(Tn.a,null)))},mn=n(115),pn=n.n(mn),dn=function(e){var t=e.title,n=void 0===t?"Message":t,a=e.text,c=void 0===a?"Are you sure?":a,l=e.open,E=void 0!==l&&l,i=e.fnAccept,o=e.fnReject;return r.a.createElement(Ft.a,{open:E},r.a.createElement(Wt.a,null,n),r.a.createElement(zt.a,null,r.a.createElement(En.a,null,c),r.a.createElement(Xt.a,null,r.a.createElement(yt.a,{onClick:o},"CANCEL"),r.a.createElement(yt.a,{onClick:i},"SUBMIT"))))},An=function(e){var t=e.id,n=Object(s.d)(),c=Object(a.useState)(!1),l=Object(St.a)(c,2),E=l[0],i=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{onClick:function(){i(!0)}},r.a.createElement(pn.a,null)),r.a.createElement(dn,{title:"Info",open:E,fnReject:function(){i(!1)},fnAccept:function(){i(!1),n(function(e){return{type:Q.REMOVE_PLAYLIST_REQUESTED,id:e}}(t))},text:"Are you sure you want to remove this playlist?"}))},fn=function(e){var t=e.playlist;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Sn,{title:t.title,id:t.id}),r.a.createElement(An,{id:t.id}))},Rn=Object(ct.a)(function(e){return{root:{overflowY:"scroll",maxHeight:300}}}),Ln=function(){var e=Rn(),t=Object(s.d)(),n=Object(s.e)(Rt),c=Object(s.e)(Lt),l=Object(s.e)(Ct);if(Object(a.useEffect)(function(){t({type:Q.PLAYLISTS_GET_REQUESTED_ACTION})},[t]),c)return r.a.createElement(r.a.Fragment,null,r.a.createElement(sn.a,null));if(null!==l)return r.a.createElement(r.a.Fragment,null,"There has been an error");if(n.length<1&&null===l)return r.a.createElement(r.a.Fragment,null,"This list is empty");var E=function(e){t(function(e){return{type:Q.LOAD_SONGS_REQUESTED_ACTION,id:e}}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement($t.a,{className:e.root},n.map(function(e,t){return r.a.createElement(en.a,{key:t,button:!0,onClick:function(){return E(e.id)}},r.a.createElement(tn.a,{primary:"".concat(e.title)}),r.a.createElement(On.a,null,r.a.createElement(fn,{playlist:e})))})))},Cn=Object(ct.a)(function(e){return{root:{},paper:{padding:e.spacing(2)}}}),In=function(){var e=Cn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_t.a,{className:e.paper},r.a.createElement(rt.a,{variant:"h5"},"Avalaible playlists"),r.a.createElement(Ot.a,{container:!0},r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(Ln,null)),r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(un,null)))))},Nn=n(226),gn=n(224),Dn=Object(ct.a)(function(e){return{root:{}}});function bn(e){return r.a.createElement(gn.a,Object.assign({elevation:6,variant:"filled"},e))}var jn=function(e){e.open,e.message,e.clearAlert;var t=Dn(),n=Object(s.d)(),a=Object(s.e)(It);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn.a,{open:!!a,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(bn,{onClose:function(){n({type:Q.CLEAR_ALERT_ERROR})},severity:"error",className:t.root},a)))},yn=Object(ct.a)(function(e){return{page:{padding:e.spacing(2)},paper:{padding:e.spacing(2)}}}),vn=function(){var e=yn();return r.a.createElement("div",{className:e.page},r.a.createElement(rt.a,{variant:"h4",gutterBottom:!0,component:"h2"},"Playlist App"),r.a.createElement(Ot.a,{container:!0,spacing:2},r.a.createElement(Ot.a,{item:!0,xs:12,md:6},r.a.createElement(ln,null)),r.a.createElement(Ot.a,{item:!0,xs:12,md:6},r.a.createElement(In,null))),r.a.createElement(jn,null))},hn=n(220),Un=n(210),xn=n(228),wn=n(209),Gn=n(213),Pn=Object(ct.a)(function(e){return{paper:{padding:e.spacing(2)},flex:{display:"flex"},loading:{margin:"auto"}}}),Vn=function(){var e=Object(s.d)(),t=Object(a.useState)(""),n=Object(St.a)(t,2),c=n[0],l=n[1],E=Object(a.useState)(""),i=Object(St.a)(E,2),o=i[0],u=i[1],O=Object(s.e)(ne),_=Pn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_t.a,{className:_.paper},r.a.createElement(rt.a,{variant:"h5",align:"center"},"Login"),r.a.createElement("form",null,r.a.createElement(Ot.a,{container:!0,spacing:2},r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(Un.a,{fullWidth:!0},r.a.createElement(xn.a,null,"Email address"),r.a.createElement(wn.a,{fullWidth:!0,onChange:function(e){return l(e.target.value)}}),r.a.createElement(Gn.a,null,"Please fill your email address"))),r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(Un.a,{fullWidth:!0},r.a.createElement(xn.a,null,"Password"),r.a.createElement(wn.a,{type:"password",fullWidth:!0,onChange:function(e){return u(e.target.value)}}),r.a.createElement(Gn.a,null,"Please enter your password"))),r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement("div",{className:_.flex},O?r.a.createElement(sn.a,{className:_.loading}):r.a.createElement(yt.a,{type:"submit",fullWidth:!0,variant:"contained",onClick:function(t){t.preventDefault(),e(function(e,t){return{type:I.USER_LOGIN_REQUESTED_ACTION,email:e,password:t}}(c,o))}},"Login")))))))},kn=Object(ct.a)(function(e){return{paper:{padding:e.spacing(2)}}}),Qn=function(){var e=kn(),t=Object(s.d)(),n=Object(a.useState)(""),c=Object(St.a)(n,2),l=c[0],E=c[1],i=Object(a.useState)(""),o=Object(St.a)(i,2),u=o[0],O=o[1],_=Object(a.useState)(""),T=Object(St.a)(_,2),S=T[0],m=T[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(_t.a,{className:e.paper},r.a.createElement(rt.a,{variant:"h5",align:"center"},"Register"),r.a.createElement("form",null,r.a.createElement(Ot.a,{container:!0,spacing:2},r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(Un.a,{fullWidth:!0},r.a.createElement(xn.a,null,"Email address"),r.a.createElement(wn.a,{fullWidth:!0,onChange:function(e){E(e.target.value)}}),r.a.createElement(Gn.a,null,"Please fill your email address"))),r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(Un.a,{fullWidth:!0},r.a.createElement(xn.a,null,"Type your password"),r.a.createElement(wn.a,{type:"password",fullWidth:!0,onChange:function(e){return O(e.target.value)}}),r.a.createElement(Gn.a,null,"Please enter your password"))),r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(Un.a,{fullWidth:!0},r.a.createElement(xn.a,null,"Confirm your password"),r.a.createElement(wn.a,{type:"password",fullWidth:!0,onChange:function(e){return m(e.target.value)}}),r.a.createElement(Gn.a,null,"Confirm your password"))),r.a.createElement(Ot.a,{item:!0,xs:12},r.a.createElement(yt.a,{type:"submit",disabled:u.length<8||u!==S,fullWidth:!0,variant:"contained",onClick:function(e){e.preventDefault(),t(function(e,t){return{type:I.USER_SUBSCRIBE_REQUESTED_ACTION,email:e,password:t}}(l,u))}},"Subscribe"))))))},Yn=Object(ct.a)(function(e){return{root:{padding:e.spacing(2)}}}),Jn=function(){var e=Yn();return r.a.createElement("div",{className:e.root},r.a.createElement(Ot.a,{container:!0,spacing:2,className:e.root},r.a.createElement(Ot.a,{item:!0,xs:12,md:6},r.a.createElement(Vn,null)),r.a.createElement(Ot.a,{item:!0,xs:12,md:6},r.a.createElement(Qn,null))))},Bn=Object(ct.a)(function(e){return{root:{},content:{}}}),Mn=function(e){e.match;var t=Bn(),n=Object(s.e)(ae);return r.a.createElement("div",{className:t.root},r.a.createElement(hn.a,null),r.a.createElement(st,null),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(tt.a,{exact:!0,path:"/"},n?r.a.createElement(vn,null):r.a.createElement(Jn,null))))},Fn=function(){return r.a.createElement(T.a,{history:Xe},r.a.createElement(tt.c,null,r.a.createElement(tt.a,{path:"/",component:Mn})))},Wn=n(116),zn=function(){var e=Object(p.createStore)(et,qe(p.applyMiddleware.apply(void 0,$e))),t=Object(A.b)(e);return Ke.run(Pe),{store:e,persistor:t}}(),Hn=zn.store,Xn=zn.persistor,Kn=Object(_.a)({palette:{primary:{main:"#d3e298"},secondary:{main:"#CDE7BE"}},typography:{useNextVariants:!0,fontFamily:["Sans-Serif"].join(",")}}),qn=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Suspense,{fallback:"loading"},r.a.createElement(s.a,{store:Hn},r.a.createElement(Wn.a,{loading:null,persistor:Xn},r.a.createElement(O.a,{theme:Kn},r.a.createElement(Fn,null)))))}}]),n}(a.Component);n(162);l.a.render(r.a.createElement(qn,null),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.ced7e2d4.chunk.js.map